@model PjlpCore.Models.PelamarVM

@{
    Layout = "_Pendaftaran";
}

@section styles {
    <link rel="stylesheet" media="screen, print" href="~/lib/select2/css/select2.min.css" />
    <link rel="stylesheet" href="~/css/datagrid/datatables/datatables.bundle.css" />
    <link rel="stylesheet" href="~/lib/sweetalert/sweetalert2.min.css" />
    <link rel="stylesheet" href="~/css/wizard.css" />
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" />
    <link rel="stylesheet" href="~/css/formplugins/bootstrap-datepicker/bootstrap-datepicker.min.css" />
}

<div class="container text-center">
    <div class="row justify-content-center">
        <div class="col-md-12 col-md-offset-1">
            @if (Model.isNew)
            {
                <h2>Pelamar Baru</h2>
            } else
            {
                <h2>Pelamar Lama</h2>
            }
            
            <form id="myForm" action="/pendaftaran/store" method="post" class="f1" enctype="multipart/form-data">
                <input type="hidden" asp-for="Pelamar.PelamarId" />
                <input type="hidden" asp-for="Pelamar.UserId" />
                <input type="hidden" asp-for="Pelamar.UserEmail" />
                <input type="hidden" asp-for="Pelamar.EventId" />
                <div class="f1-steps text-center">
                    <div class="f1-progress">
                        <div class="f1-progress-line" data-now-value="10" data-number-of-steps="3" style="width: 10%">
                        </div>
                    </div>
                    <div class="f1-step active">
                        <div class="f1-step-icon"><i class="fa fa-user"></i></div>
                        <p>Biodata</p>
                    </div>
                    <div class="f1-step">
                        <div class="f1-step-icon"><i class="fas fa-home"></i></div>
                        <p>Data Alamat</p>
                    </div>
                    <div class="f1-step">
                        <div class="f1-step-icon"><i class="fas fa-ellipsis-h"></i></div>
                        <p>Lainnya</p>
                    </div>
                </div>

                <!-- step 1 -->
                <fieldset>
                    <div class="panel">
                        <div class="panel-hdr bg-primary-700 bg-warning-gradient" role="heading">
                            <h2>Pilih Bidang &amp; Jabatan</h2>
                        </div>
                        <div class="panel-container show">
                            <div class="panel-content">
                                <div class="form-group">
                                    <h4 class="font-weight-bold">Posisi yang Dilamar</h4>
                                    <div class="row">
                                        <div class="col-6 mb-3">
                                            <div class="form-group">
                                                <label for="bidang">Bidang *</label>
                                                <select id="bidang" asp-for="Pelamar.BidangId" class="form-control" style="width: 100%;" required>
                                                    @if(Model.NamaBidang is not null)
                                                    {
                                                        <option value="@Model.Pegawai!.BidangID" selected>@Model.NamaBidang</option>
                                                    }
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-6 mb-3">
                                            <div class="form-group">
                                                <label for="jabatan">Jabatan *</label>
                                                <select id="jabatan" asp-for="Pelamar.JabatanId" class="form-control" style="width: 100%;" required>

                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel">
                        <div class="panel-hdr bg-primary-700 bg-warning-gradient" role="heading">
                            <h2>Biodata</h2>
                        </div>
                        <div class="panel-container show">
                            <div class="panel-content">
                                <div class="form-group">
                                    <label for="namalengkap">Nama Lengkap</label>
                                        <input type="text" id="namalengkap" asp-for="Pelamar.Nama" class="form-control" readonly required />
                                </div>
                                <div class="form-group">
                                    <label for="no_tel">No. Telepon</label>
                                        <input type="text" id="no_tel" asp-for="Pelamar.Telp" value="@Model.Pegawai!.NoHP" class="form-control" required />
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-lg-6">
                                            <div class="form-group mb-3 mb-lg-0">
                                                <label for="no_ktp">No. KTP</label>
                                                <input type="number" id="no_ktp" asp-for="Pelamar.NoKTP" readonly class="form-control" required />
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label for="no_kk">No. Kartu Keluarga</label>
                                                <input type="number" id="no_kk" asp-for="Pelamar.NoKK" value="@Model.Pegawai.NoKK" class="form-control" required />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-lg-6">
                                            <div class="form-group mb-3 mb-lg-0">
                                                <label for="tgl-lahir">Tanggal Lahir</label>
                                                <input type="text" id="tgl_lahir" asp-for="TanggalLahir"
                                                    class="dtpicker form-control" readonly required />
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label for="tempat_lahir">Tempat Lahir</label>
                                                <input type="text" id="tempat_lahir" asp-for="Pelamar.TempatLahir"
                                                    class="form-control" required />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-lg-4">
                                            <div class="form-group mb-3 mb-lg-0">
                                                <label for="kelamin">Jenis Kelamin</label>
                                                <select id="kelamin" asp-for="Pelamar.Kelamin" class="form-control" required>
                                                    <option value="">Pilih Jenis Kelamin</option>
                                                    <option value="true">Laki-Laki</option>
                                                    <option value="false">Perempuan</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-lg-4">
                                            <div class="form-group mb-3 mb-lg-0">
                                                <label for="gol-darah">Golongan Darah</label>
                                                <select id="gol_darah" asp-for="Pelamar.GolonganDarah" class="form-control">
                                                    <option value="">Pilih Golongan Darah</option>
                                                    <option value="A">A</option>
                                                    <option value="B">B</option>
                                                    <option value="AB">AB</option>
                                                    <option value="O">O</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-lg-4">
                                            <div class="form-group">
                                                <label for="agama">Agama</label>
                                                <select id="agama" asp-for="Pelamar.AgamaId" class="form-control myselect" required>
                                                    if (@Model.Pegawai.AgamaID is not null) {
                                                        <option value="@Model.Pegawai.AgamaID" selected>@Model.NamaAgama</option>
                                                    }
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="f1-buttons">
                                    <button type="button" class="btn btn-primary btn-next">
                                        Selanjutnya <i class="fa fa-arrow-right"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </fieldset>

                <!-- step 2 -->
                <fieldset>
                    <div class="panel">
                        <div class="panel-hdr bg-primary-700 bg-warning-gradient" role="heading">
                            <h2>Alamat Sesuai KTP</h2>
                        </div>
                        <div class="panel-container show">
                            <div class="panel-content">
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-6 mb-3">
                                            <label for="provinsi">Provinsi</label>
                                            <select name="provinsi" id="provinsi" class="form-control myselect" style="width: 100%;" required>
                                                @if (Model.Provinsi is not null)
                                                {
                                                    <option value="@Model.ProvID" selected>@Model.Provinsi</option>
                                                }
                                            </select>
                                        </div>
                                        <div class="col-6 mb-3">
                                            <label for="kota">Kota/Kabupaten</label>
                                            <select name="kota" id="kota" class="form-control myselect" style="width: 100%;" required>
                                                @if(Model.KabID is not null)
                                                {
                                                    <option value="@Model.KabID" selected>@Model.Kabupaten</option>
                                                }
                                            </select>
                                        </div>
                                        <div class="col-6">
                                            <label for="kecamatan">Kecamatan</label>
                                            <select name="kecamatan" id="kecamatan" class="form-control myselect" style="width: 100%;" required>
                                                @if (Model.Kecamatan is not null)
                                                {
                                                    <option value="@Model.KecID" selected>@Model.Kecamatan</option>
                                                }
                                            </select>
                                        </div>
                                        <div class="col-6">
                                            <div class="form-group">
                                                <label for="kelurahan">Kelurahan</label>
                                                <select id="kelurahan" asp-for="Pelamar.KelurahanId" class="form-control myselect" style="width: 100%;" required>
                                                    @if (Model.Kelurahan is not null)
                                                    {
                                                        <option value="@Model.Pegawai.KelurahanID" selected>@Model.Kelurahan</option>
                                                    }
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="alamat">Alamat</label>
                                    <input type="text" id="alamat_ktp" asp-for="Pelamar.Alamat" value="@Model.Pegawai!.AlamatKTP" class="form-control" required />
                                    <span>Contoh : Jl. Mandala V No.67</span>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label for="rt">RT</label>
                                                <input type="number" id="rt" asp-for="Pelamar.RT" value="@Model.Pegawai!.RtKTP" class="form-control" required />
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label for="rw">RW</label>
                                                <input type="number" id="rw" asp-for="Pelamar.RW" value="@Model.Pegawai!.RwKTP" class="form-control" required />
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label for="kode-pos">Kode Pos</label>
                                                <input type="number" id="kode_pos" asp-for="Pelamar.KodePos" value="@Model.Pegawai!.KodePosKTP"
                                                    class="form-control" required />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="text-right">
                                                <input id="chkSame" asp-for="AddressIsSame" type="checkbox" checked="checked" />
                                                <label for="chkSame">Domisili sama dengan KTP</label>
                                            </div>                                                
                                        </div>
                                    </div>
                                </div>
                                 <div id="nextSame" class="f1-buttons">
                                    <button type="button" class="btn btn-warning btn-previous">
                                        <i class="fa fa-arrow-left"></i> Sebelumnya
                                    </button>
                                    <button type="button" class="btn btn-primary btn-next">
                                        Selanjutnya <i class="fa fa-arrow-right"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel" id="myDomisili" style="display:none">
                        <div class="panel-hdr bg-primary-700 bg-warning-gradient" role="heading">
                            <h2>Alamat Domisili</h2>
                        </div>
                        <div class="panel-container show">
                            <div class="panel-content">
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-6 mb-3">
                                            <label for="provinsi_dom">Provinsi</label>
                                            <select id="provinsi_dom" class="form-control thisDom myselect" style="width: 100%;">
                                            </select>
                                        </div>
                                        <div class="col-6 mb-3">
                                            <label for="kota_dom">Kota/Kabupaten</label>
                                            <select name="kota_dom" id="kota_dom" class="form-control thisDom myselect" style="width: 100%;" disabled>
                                            </select>
                                        </div>
                                        <div class="col-6">
                                            <label for="kecamatan_dom">Kecamatan</label>
                                            <select name="kecamatan_dom" id="kecamatan_dom" class="form-control thisDom myselect" style="width: 100%;" disabled>
                                            </select>
                                        </div>
                                        <div class="col-6">
                                            <div class="form-group">
                                                <label for="kelurahan_dom">Kelurahan</label>
                                                <select id="kelurahan_dom" asp-for="Pelamar.DomKelurahanId" class="form-control thisDom myselect" style="width: 100%;" disabled>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="alamat_dom">Alamat</label>
                                    <input type="text" id="alamat_dom" asp-for="Pelamar.DomAlamat" class="form-control thisDom" />
                                    <span>Contoh : Jl. Mandala V No.67</span>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label for="rt_dom">RT</label>
                                                <input type="text" id="rt_dom" asp-for="Pelamar.DomRT" class="form-control thisDom" />
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label for="rw_dom">RW</label>
                                                <input type="text" id="rw_dom" asp-for="Pelamar.DomRW" class="form-control thisDom" />
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label for="kode-pos">Kode Pos</label>
                                                <input type="text" id="kode_pos_dom" asp-for="Pelamar.DomKodePos"
                                                       class="form-control thisDom" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="f1-buttons">
                                    <button type="button" class="btn btn-warning btn-previous">
                                        <i class="fa fa-arrow-left"></i> Sebelumnya
                                    </button>
                                    <button type="button" class="btn btn-primary btn-next">
                                        Selanjutnya <i class="fa fa-arrow-right"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </fieldset>

                <!-- step 3 -->
                <fieldset>
                    <div class="panel">
                        <div class="panel-hdr bg-primary-700 bg-warning-gradient" role="heading">
                            <h2>Data Lainnya</h2>
                        </div>
                        <div class="panel-container show">
                            <div class="panel-content">
                                <div class="form-group">
                                    <label for="pendidikan">Pendidikan Terakhir</label>
                                    <select id="pendidikan" asp-for="Pelamar.PendidikanId" class="form-control myselect" style="width:100%;" required>
                                        @if (Model.NamaPendidikan is not null)
                                        {
                                            <option value="@Model.Pegawai!.PendidikanID" selected>@Model.NamaPendidikan</option>
                                        }
                                    </select>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label for="">Jurusan Pendidikan</label>
                                                <input type="text" asp-for="Pelamar.JurusanSekolah" value="@Model.Pegawai!.JurusanPendidikan" class="form-control" />
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label for="">Nama Sekolah/Universitas</label>
                                                <input type="text" asp-for="Pelamar.NamaSekolah" value="@Model.Pegawai!.NamaSekolah" class="form-control" />
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label for="npwp">No. NPWP *</label>
                                                <input id="npwp" asp-for="Pelamar.NoNPWP" value="@Model.Pegawai!.NPWP" class="form-control" />
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <label for="">Tanggungan *</label>
                                            <select id="tanggungan" asp-for="Pelamar.Tanggungan" class="form-control" style="width:100%;" required>
                                                <option value=""></option>
                                                <option value="TK">(TK) Belum Menikah</option>
                                                <option value="K0">(K0)Menikah Belum Punya Anak</option>
                                                <option value="K1">(K1) Menikah Anak 1</option>
                                                <option value="K2">(K2) Menikah Anak 2</option>
                                                <option value="K3">(K3) Menikah Anak Lebih Dari 2</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-lg-4">
                                            <div class="form-group">
                                                <label for="">No. BPJS Kesehatan</label>
                                                <input id="bpjs" asp-for="Pelamar.NoBPJS" value="@Model.Pegawai!.NoBPJS" class="form-control">
                                            </div>
                                        </div>
                                        <div class="col-lg-4">
                                            <div class="form-group">
                                                <label for="">No. BPJS Ketenagakerjaan</label>
                                                <input id="bpjsk" asp-for="Pelamar.NoBPJSK" value="@Model.Pegawai!.DetailPjlp!.NoBPJSK" class="form-control" />
                                            </div>
                                        </div>
                                        <div class="col-lg-4">
                                            <label for="">Status BPJS *</label>
                                            <select id="status_bpjs" asp-for="Pelamar.StatusBPJS" class="form-control" required>
                                                <option value=""></option>
                                                <option value="0">Tidak punya BPJS</option>
                                                <option value="1">Dinas Lingkungan Hidup Prov. DKI Jakarta</option>
                                                <option value="2">Non Dinas Lingkungan Hidup Prov. DKI Jakarta</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label for="sim_data">SIM/SIO/Sertifikat</label>
                                                <input id="sim_data" asp-for="Pelamar.NoSIM" value="@Model.Pegawai!.DetailPjlp!.NoSIM" class="form-control" />
                                                <span>Contoh : SIM C</span>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label for="sim-date">Berlaku Hingga</label>
                                                <input type="text" id="sim_date" asp-for="Pelamar.TglAkhirSIM" class="form-control dtpicker" readonly />
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label for="nama_bank">Cabang Bank DKI</label>
                                                <input id="nama_bank" asp-for="Pelamar.CabangRekening" value="@Model.Pegawai!.CabangBank"
                                                    class="form-control" required/>
                                                <span>Contoh : Dinas Lingkungan Hidup</span>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label for="no_rek">No. Rekening</label>
                                                <input id="no_rek" asp-for="Pelamar.NoRekening" value="@Model.Pegawai!.NoRekening" class="form-control" required />
                                            </div>
                                        </div>
                                    </div>
                                </div>                                
                                <div class="f1-buttons">
                                    <button type="button" class="btn btn-warning btn-previous">
                                        <i class="fa fa-arrow-left"></i> Sebelumnya
                                    </button>
                                    <button type="submit" class="btn btn-primary btn-submit">
                                        <i class="fa fa-save"></i> Submit
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </fieldset>                
                @*<fieldset>
                    <h4>Preview</h4>
                    <table class="table table-striped table-bordered">
                        <tbody>
                            <tr>
                                <td colspan="2" class="table-primary h4"><i class="fa fa-user"></i> Biodata</td>
                            </tr>
                            <tr>
                                <td width="20%">Nama Lengkap</td>
                                <td id="v-nama-lengkap"></td>
                            </tr>
                            <tr>
                                <td width="20%">No. Telepon</td>
                                <td id="v-tel"></td>
                            </tr>
                            <tr>
                                <td width="20%">No. KTP</td>
                                <td id="v-ktp"></td>
                            </tr>
                            <tr>
                                <td width="20%">No. Kartu Keluarga</td>
                                <td id="v-kk"></td>
                            </tr>
                            <tr>
                                <td width="20%">Tempat, Tanggal Lahir</td>
                                <td>
                                    <span id="v-tempat-lahir"></span>, <span id="v-tgl-lahir"></span>
                                </td>
                            </tr>
                            <tr>
                                <td width="20%">Jenis Kelamin</td>
                                <td id="v-kelamin"></td>
                            </tr>
                            <tr>
                                <td width="20%">Golongan Darah</td>
                                <td id="v-darah"></td>
                            </tr>
                            <tr>
                                <td width="20%">Agama</td>
                                <td id="v-agama"></td>
                            </tr>
                            <tr>
                                <td width="20%">Alamat (Sesuai KTP)</td>
                                <td>
                                    <div class="alamat">
                                        <span id="v-alamat"></span>,
                                        RT. <span id="v-rt"></span>,
                                        RW. <span id="v-rw"></span>,
                                        <span id="v-kelurahan"></span>,
                                        <span id="v-kecamatan"></span>,
                                        <span id="v-kota"></span>,
                                        <span id="v-provinsi"></span>,
                                        <span id="v-kode-pos"></span>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td width="20%">Alamat Domisili</td>
                                <td>
                                    <div class="alamat">
                                        <span id="v-alamat-dom"></span>,
                                        RT. <span id="v-rt-dom"></span>,
                                        RW. <span id="v-rw-dom"></span>,
                                        <span id="v-kelurahan-dom"></span>,
                                        <span id="v-kecamatan-dom"></span>,
                                        <span id="v-kota-dom"></span>,
                                        <span id="v-provinsi-dom"></span>,
                                        <span id="v-kode-pos-dom"></span>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2" class="table-primary h4"><i class="fas fa-ellipsis-h"></i> Lainnya</td>
                            </tr>
                            <tr>
                                <td width="20%">Pendidikan Terakhir</td>
                                <td id="v-pendidikan"></td>
                            </tr>
                            <tr>
                                <td width="20%">No. NPWP</td>
                                <td id="v-npwp"></td>
                            </tr>
                            <tr>
                                <td width="20%">No. BPJS Kesehatan</td>
                                <td id="v-bpjs"></td>
                            </tr>
                            <tr>
                                <td width="20%">No. BPJS Ketenagakerjaan</td>
                                <td id="v-bpjsk"></td>
                            </tr>
                            <tr>
                                <td width="20%">Status BPJS</td>
                                <td id="v-status-bpjs"></td>
                            </tr>
                            <tr>
                                <td width="20%">SIM/SIO/Sertifikat</td>
                                <td>
                                    <div class="sim">
                                        <span id="v-sim-data"></span>
                                        | Berlaku Hingga: <span id="v-sim-date"></span>

                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td width="20%">No. Rekening</td>
                                <td>
                                    <div class="rekening">
                                        <span id="v-nama-bank"></span>
                                        | <span id="v-no-rek"></span>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td width="20%">Posisi Yang dilamar</td>
                                <td>
                                    <div class="posisi">
                                        Jabatan: <span id="v-jabatan"></span>
                                        , Bidang: <span id="v-bidang"></span>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="f1-buttons">
                        <button type="button" class="btn btn-warning btn-previous">
                            <i class="fa fa-arrow-left"></i> Sebelumnya
                        </button>
                        <button type="submit" class="btn btn-primary btn-submit">
                            <i class="fa fa-save"></i> Submit
                        </button>
                    </div>
                </fieldset>*@
            </form>
        </div>
    </div>
</div>

@section scripts {
    <script src="~/js/global.js"></script>
    <script src="~/js/wizard.js"></script>
    <script src="~/lib/select2/js/select2.full.min.js"></script>
    <script src="~/lib/sweetalert/sweetalert2.min.js"></script>
    <script src="~/js/formplugins/bootstrap-datepicker/bootstrap-datepicker.js"></script>
    <script src="~/js/pendaftaran.js"></script>
}